!function(e,t){if("object"==typeof exports&&"object"==typeof module)module.exports=t(require("isomorphic-fetch"));else if("function"==typeof define&&define.amd)define(["isomorphic-fetch"],t);else{var n="object"==typeof exports?t(require("isomorphic-fetch")):t(e["isomorphic-fetch"]);for(var r in n)("object"==typeof exports?exports:e)[r]=n[r]}}(this,function(e){return function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}return n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";(function(r){function i(e,t){for(var n=0;n<t.length;n++){var r=t[n];r.enumerable=r.enumerable||!1,r.configurable=!0,"value"in r&&(r.writable=!0),Object.defineProperty(e,r.key,r)}}Object.defineProperty(t,"__esModule",{value:!0}),t.default=void 0,r.browser||n(2);var o=function(){function e(t){!function(e,t){if(!(e instanceof t))throw new TypeError("Cannot call a class as a function")}(this,e);var n=Object.assign({},{host:"localhost",port:8080,path:"",https:!1,apiversion:"0.1",fetchTimeout:15e3,gzipEnable:!0,requestHeaders:{"Cache-Control":"no-cache, no-store, must-revalidate","Accept-Encoding":"gzip"}},t);this.urls={.1:{info:"/info",services:"/services",train:"/train",predict:"/predict",chain:"/chain"}}[n.apiversion||.1],n.sameOrigin?this.ddurl=window.location.origin:(this.ddurl=n.https?"https://":"http://",this.ddurl+=n.host,this.ddurl+=":"+n.port),this.ddurl+=n.path,this.fetchTimeout=n.fetchTimeout,this.requestHeaders=n.requestHeaders,n.gzipEnable||(this.requestHeaders["Accept-Encoding"]="identity")}return function(e,t,n){t&&i(e.prototype,t),n&&i(e,n)}(e,[{key:"info",value:function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._get(this.urls.info,null,e)}},{key:"putService",value:function(e,t){return this._put("".concat(this.urls.services,"/").concat(e),t)}},{key:"getService",value:function(e){return this._get("".concat(this.urls.services,"/").concat(e))}},{key:"deleteService",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{clear:"lib"};return this._delete("".concat(this.urls.services,"/").concat(e),t)}},{key:"postTrain",value:function(e,t,n){var r={service:e,async:!(arguments.length>3&&void 0!==arguments[3])||arguments[3],parameters:n,data:t};return this._post(this.urls.train,r)}},{key:"getTrain",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0,r=arguments.length>3&&void 0!==arguments[3]&&arguments[3],i=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,o={service:e,job:t,timeout:n};return r?o["parameters.output.measure_hist"]=!0:Number.isNaN(i)||parseInt(Number(i),10)!==i||Number.isNaN(parseInt(i,10))||(o["parameters.output.max_hist_points"]=parseInt(i,10)),this._get(this.urls.train,null,o)}},{key:"deleteTrain",value:function(e){var t={service:e,job:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1};return this._delete(this.urls.train,null,t)}},{key:"postPredict",value:function(e){return this._post(this.urls.predict,e)}},{key:"putChain",value:function(e,t){return this._put("".concat(this.urls.chain,"/").concat(e),t)}},{key:"_httpRequest",value:function(e,t){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise(function(o,u){var c=n.ddurl+t,s={method:e,headers:n.requestHeaders};if(null!=r)s.body=JSON.stringify(r);else if(null!=i){var l=Object.entries(i).map(function(e){return e.join("=")}).join("&");c+="?".concat(l)}n._fetchTimeout(n.fetchTimeout,fetch(c,s)).then(function(e){return e.text().then(function(e){return e?JSON.parse(e.replace(/NaN,/g,"0,")):{}})}).then(function(e){return o(e)}).catch(function(e){u(e)})})}},{key:"_fetchTimeout",value:function(e,t){return new Promise(function(n,r){var i=setTimeout(function(){r(new Error("timeout"))},e);t.then(function(e){clearTimeout(i),n(e)}).catch(function(e){clearTimeout(i),r(e)})})}},{key:"_get",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._httpRequest("get",e,t,n).then(function(e){return e}).catch(function(e){throw e})}},{key:"_put",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._httpRequest("put",e,t,n).then(function(e){return e}).catch(function(e){throw e})}},{key:"_post",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._httpRequest("post",e,t,n).then(function(e){return e}).catch(function(e){return e})}},{key:"_delete",value:function(e){var t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._httpRequest("delete",e,t,n).then(function(e){return e}).catch(function(e){return e})}}]),e}();t.default=o,e.exports=t.default}).call(this,n(1))},function(e,t){var n,r,i=e.exports={};function o(){throw new Error("setTimeout has not been defined")}function u(){throw new Error("clearTimeout has not been defined")}function c(e){if(n===setTimeout)return setTimeout(e,0);if((n===o||!n)&&setTimeout)return n=setTimeout,setTimeout(e,0);try{return n(e,0)}catch(t){try{return n.call(null,e,0)}catch(t){return n.call(this,e,0)}}}!function(){try{n="function"==typeof setTimeout?setTimeout:o}catch(e){n=o}try{r="function"==typeof clearTimeout?clearTimeout:u}catch(e){r=u}}();var s,l=[],a=!1,f=-1;function h(){a&&s&&(a=!1,s.length?l=s.concat(l):f=-1,l.length&&p())}function p(){if(!a){var e=c(h);a=!0;for(var t=l.length;t;){for(s=l,l=[];++f<t;)s&&s[f].run();f=-1,t=l.length}s=null,a=!1,function(e){if(r===clearTimeout)return clearTimeout(e);if((r===u||!r)&&clearTimeout)return r=clearTimeout,clearTimeout(e);try{r(e)}catch(t){try{return r.call(null,e)}catch(t){return r.call(this,e)}}}(e)}}function d(e,t){this.fun=e,this.array=t}function v(){}i.nextTick=function(e){var t=new Array(arguments.length-1);if(arguments.length>1)for(var n=1;n<arguments.length;n++)t[n-1]=arguments[n];l.push(new d(e,t)),1!==l.length||a||c(p)},d.prototype.run=function(){this.fun.apply(null,this.array)},i.title="browser",i.browser=!0,i.env={},i.argv=[],i.version="",i.versions={},i.on=v,i.addListener=v,i.once=v,i.off=v,i.removeListener=v,i.removeAllListeners=v,i.emit=v,i.prependListener=v,i.prependOnceListener=v,i.listeners=function(e){return[]},i.binding=function(e){throw new Error("process.binding is not supported")},i.cwd=function(){return"/"},i.chdir=function(e){throw new Error("process.chdir is not supported")},i.umask=function(){return 0}},function(t,n){t.exports=e}])});
//# sourceMappingURL=deepdetect.min.js.map