!function(t,e){if("object"==typeof exports&&"object"==typeof module)module.exports=e(require("isomorphic-fetch"));else if("function"==typeof define&&define.amd)define(["isomorphic-fetch"],e);else{var n="object"==typeof exports?e(require("isomorphic-fetch")):e(t["isomorphic-fetch"]);for(var r in n)("object"==typeof exports?exports:t)[r]=n[r]}}(this,(t=>(()=>{"use strict";var e={444:e=>{e.exports=t}},n={};function r(t){var i=n[t];if(void 0!==i)return i.exports;var o=n[t]={exports:{}};return e[t](o,o.exports,r),o.exports}r.d=(t,e)=>{for(var n in e)r.o(e,n)&&!r.o(t,n)&&Object.defineProperty(t,n,{enumerable:!0,get:e[n]})},r.o=(t,e)=>Object.prototype.hasOwnProperty.call(t,e),r.r=t=>{"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})};var i={};return(()=>{function t(e){return t="function"==typeof Symbol&&"symbol"==typeof Symbol.iterator?function(t){return typeof t}:function(t){return t&&"function"==typeof Symbol&&t.constructor===Symbol&&t!==Symbol.prototype?"symbol":typeof t},t(e)}function e(e,n){for(var r=0;r<n.length;r++){var i=n[r];i.enumerable=i.enumerable||!1,i.configurable=!0,"value"in i&&(i.writable=!0),Object.defineProperty(e,(o=i.key,u=void 0,u=function(e,n){if("object"!==t(e)||null===e)return e;var r=e[Symbol.toPrimitive];if(void 0!==r){var i=r.call(e,"string");if("object"!==t(i))return i;throw new TypeError("@@toPrimitive must return a primitive value.")}return String(e)}(o),"symbol"===t(u)?u:String(u)),i)}var o,u}r.r(i),r.d(i,{default:()=>n}),process.browser||r(444);var n=function(){function t(e){!function(t,e){if(!(t instanceof e))throw new TypeError("Cannot call a class as a function")}(this,t);var n=Object.assign({},{host:"localhost",port:8080,path:"",https:!1,apiversion:"0.1",fetchTimeout:15e3,gzipEnable:!0,requestHeaders:{"Cache-Control":"no-cache, no-store, must-revalidate","Accept-Encoding":"gzip"}},e);this.urls={.1:{info:"/info",services:"/services",train:"/train",predict:"/predict",chain:"/chain"}}[n.apiversion||.1],n.sameOrigin?this.ddurl=window.location.origin:(this.ddurl=n.https?"https://":"http://",this.ddurl+=n.host,this.ddurl+=":"+n.port),this.ddurl+=n.path,this.fetchTimeout=n.fetchTimeout,this.requestHeaders=n.requestHeaders,n.gzipEnable||(this.requestHeaders["Accept-Encoding"]="identity")}var n,r;return n=t,r=[{key:"info",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};return this._get(this.urls.info,null,t)}},{key:"putService",value:function(t,e){return this._put("".concat(this.urls.services,"/").concat(t),e)}},{key:"getService",value:function(t){return this._get("".concat(this.urls.services,"/").concat(t))}},{key:"deleteService",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{clear:"lib"};return this._delete("".concat(this.urls.services,"/").concat(t),e)}},{key:"postTrain",value:function(t,e,n){var r={service:t,async:!(arguments.length>3&&void 0!==arguments[3])||arguments[3],parameters:n,data:e};return this._post(this.urls.train,r)}},{key:"getTrain",value:function(t){var e=arguments.length>4&&void 0!==arguments[4]?arguments[4]:null,n={service:t,job:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1,timeout:arguments.length>2&&void 0!==arguments[2]?arguments[2]:0};return arguments.length>3&&void 0!==arguments[3]&&arguments[3]?n["parameters.output.measure_hist"]=!0:Number.isNaN(e)||parseInt(Number(e),10)!==e||Number.isNaN(parseInt(e,10))||(n["parameters.output.max_hist_points"]=parseInt(e,10)),this._get(this.urls.train,null,n)}},{key:"deleteTrain",value:function(t){var e={service:t,job:arguments.length>1&&void 0!==arguments[1]?arguments[1]:1};return this._delete(this.urls.train,null,e)}},{key:"postPredict",value:function(t){return this._post(this.urls.predict,t)}},{key:"putChain",value:function(t,e){return this._put("".concat(this.urls.chain,"/").concat(t),e)}},{key:"_httpRequest",value:function(t,e){var n=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,i=arguments.length>3&&void 0!==arguments[3]?arguments[3]:null;return new Promise((function(o,u){var c=n.ddurl+e,s={method:t,headers:n.requestHeaders};if(null!=r)s.body=JSON.stringify(r);else if(null!=i){var a=Object.entries(i).map((function(t){return t.join("=")})).join("&");c+="?".concat(a)}n._fetchTimeout(n.fetchTimeout,fetch(c,s)).then((function(t){return t.text().then((function(t){return t?JSON.parse(t.replace(/NaN,/g,"0,")):{}}))})).then((function(t){return o(t)})).catch((function(t){u(t)}))}))}},{key:"_fetchTimeout",value:function(t,e){return new Promise((function(n,r){var i=setTimeout((function(){r(new Error("timeout"))}),t);e.then((function(t){clearTimeout(i),n(t)})).catch((function(t){clearTimeout(i),r(t)}))}))}},{key:"_get",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._httpRequest("get",t,e,n).then((function(t){return t})).catch((function(t){throw t}))}},{key:"_put",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._httpRequest("put",t,e,n).then((function(t){return t})).catch((function(t){throw t}))}},{key:"_post",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._httpRequest("post",t,e,n).then((function(t){return t})).catch((function(t){return t}))}},{key:"_delete",value:function(t){var e=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null,n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;return this._httpRequest("delete",t,e,n).then((function(t){return t})).catch((function(t){return t}))}}],r&&e(n.prototype,r),Object.defineProperty(n,"prototype",{writable:!1}),t}()})(),i})()));
//# sourceMappingURL=deepdetect.min.js.map